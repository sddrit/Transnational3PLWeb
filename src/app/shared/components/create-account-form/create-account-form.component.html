<form (submit)="onSubmit($event)" class="create-account-form">
	<dx-form [disabled]="loading" [formData]="formData">

		<dxi-item [editorOptions]="{ stylingMode: 'filled', placeholder: 'Email', mode: 'email' }" dataField="email"
				  editorType="dxTextBox">
			<dxi-validation-rule message="Email is required" type="required"></dxi-validation-rule>
			<dxi-validation-rule message="Email is invalid" type="email"></dxi-validation-rule>
			<dxo-label [visible]="false"></dxo-label>
		</dxi-item>

		<dxi-item [editorOptions]="{ stylingMode: 'filled', placeholder: 'Password', mode: 'password' }" dataField="password"
				  editorType="dxTextBox">
			<dxi-validation-rule message="Password is required" type="required"></dxi-validation-rule>
			<dxo-label [visible]="false"></dxo-label>
		</dxi-item>

		<dxi-item [editorOptions]="{ stylingMode: 'filled', placeholder: 'Confirm Password', mode: 'password' }" dataField="confirmedPassword"
				  editorType="dxTextBox">
			<dxi-validation-rule message="Password is required" type="required"></dxi-validation-rule>
			<dxi-validation-rule [validationCallback]="confirmPassword" message="Passwords do not match" type="custom">
			</dxi-validation-rule>
			<dxo-label [visible]="false"></dxo-label>
		</dxi-item>

		<dxi-item>
			<div class='policy-info'>
				By creating an account, you agree to the <a routerLink="#">Terms of Service</a> and <a routerLink="#">Privacy
				Policy</a>
			</div>
		</dxi-item>

		<dxi-item itemType="button">
			<dxo-button-options [template]="'createAccountTemplate'" [useSubmitBehavior]="true" type="default"
								width="100%">
			</dxo-button-options>
		</dxi-item>

		<dxi-item>
			<div class="login-link">
				Have an account? <a routerLink="/login">Sign In</a>
			</div>
		</dxi-item>

		<ng-container *dxTemplate="let item of 'createAccountTemplate'">
      <span class="dx-button-text">
        <ng-container *ngIf="loading; else notLoading">
          <dx-load-indicator [visible]="true" height="24px" width="24px"></dx-load-indicator>
        </ng-container>

        <ng-template #notLoading>Create a new account</ng-template>
      </span>
		</ng-container>

	</dx-form>
</form>
